<div class="filters-container card">
  <h3 class="card-header">Controls & Filters</h3>
  
  <!-- Theme & Live Updates -->
  <div class="controls-section">
    <div class="control-item">
      <label class="control-label">
        <span class="label-text">Dark Mode</span>
        <button 
          class="toggle-button"
          [class.active]="darkMode()"
          (click)="toggleDarkMode()">
          <span class="toggle-slider"></span>
        </button>
      </label>
    </div>
    
    <div class="control-item">
      <label class="control-label">
        <span class="label-text">Live Updates</span>
        <button 
          class="toggle-button"
          [class.active]="liveUpdatesEnabled()"
          (click)="toggleLiveUpdates()">
          <span class="toggle-slider"></span>
        </button>
      </label>
    </div>
  </div>
  
  <div class="divider"></div>
  
  <!-- Category Filters -->
  <div class="filter-section">
    <h4 class="filter-heading">Event Categories</h4>
    <div class="filter-chips">
      @for (category of categories; track category) {
        <button
          class="filter-chip"
          [class.active]="selectedCategories().has(category)"
          (click)="toggleCategory(category)">
          {{ formatLabel(category) }}
        </button>
      }
    </div>
  </div>
  
  <div class="divider"></div>
  
  <!-- Anomaly Type Filters -->
  <div class="filter-section">
    <h4 class="filter-heading">Anomaly Types</h4>
    <div class="filter-chips">
      @for (type of anomalyTypes; track type) {
        <button
          class="filter-chip"
          [class.active]="selectedAnomalyTypes().has(type)"
          (click)="toggleAnomalyType(type)">
          {{ formatLabel(type) }}
        </button>
      }
    </div>
  </div>
  
  <div class="divider"></div>
  
  <!-- Clear Filters Button -->
  <button class="btn btn-secondary clear-filters-btn" (click)="clearFilters()">
    <svg viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
    </svg>
    Clear All Filters
  </button>
</div>
